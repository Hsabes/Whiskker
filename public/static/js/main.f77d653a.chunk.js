(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{136:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(95),i=n.n(a),c=n(8),s=n(15),o=n(21),l=n(187),j=n(188),d=n(189),b=n(6),u=n(216),h=n(217),m=n(218),p=n(73),x=n(205),O=n(210),g=n(110),f=n(221),v=n(1);function y(e){var t=e.setCurrentUser,n=e.currentUser,a=Object(r.useState)(!1),i=Object(c.a)(a,2),y=i[0],k=i[1],C=Object(s.f)(),w=Object(b.a)(u.a)({display:"flex",justifyContent:"space-between"}),S=Object(b.a)(h.a)((function(e){e.theme;return{display:"flex",alignItems:"center",gap:"40px"}}));return Object(v.jsx)("div",{children:Object(v.jsxs)(m.a,{position:"sticky",sx:{backgroundColor:"#33691e"},children:[Object(v.jsxs)(w,{children:[Object(v.jsx)(p.a,{variant:"h6",sx:{display:{xs:"none",sm:"block"}},children:"Whiskker"}),Object(v.jsx)(l.a,{sx:{display:{xs:"block",sm:"none"}}}),Object(v.jsxs)(S,{children:[Object(v.jsx)(x.a,{color:"primary",component:o.b,to:"/newsfeed",children:Object(v.jsx)(j.a,{})}),Object(v.jsx)(x.a,{color:"primary",component:o.b,to:"/mycatpanions",children:Object(v.jsx)(l.a,{})}),Object(v.jsx)(x.a,{color:"primary",component:o.b,to:"/messaging",children:Object(v.jsx)(d.a,{})}),Object(v.jsx)(O.a,{src:n.purrfile_picture,onClick:function(e){return k(!0)}})]})]}),Object(v.jsxs)(g.a,{id:"demo-positioned-menu","aria-labelledby":"demo-positioned-button",open:y,onClose:function(e){return k(!1)},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[Object(v.jsx)(f.a,{component:o.b,to:"/me",onClick:function(e){return k(!1)},children:" Profile "}),Object(v.jsx)(f.a,{component:o.b,to:"/myaccount",onClick:function(e){return k(!1)},children:"My account"}),Object(v.jsx)(f.a,{onClick:function(){fetch("/logout",{method:"DELETE"}),t(!1),localStorage.clear(),C("/")},children:"Logout"})]})]})})}var k=n(16),C=n(195),w=n(211),S=n(18),_=n(222),I=n(223),T=n(224),P=n(225),A=n(226),U=n(209),E=n(206),B=n(194),L=n(104),R=n.n(L);function N(e){var t=e.post,n=(e.currentUser,Object(r.useState)(t.like)),a=Object(c.a)(n,2),i=a[0],s=a[1],o=Object(r.useState)(!1),l=Object(c.a)(o,2),j=l[0],d=l[1];return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(_.a,{sx:{width:"350px",margin:3},children:[Object(v.jsx)(I.a,{avatar:Object(v.jsx)(O.a,{alt:t.user.id,src:t.user.purrfile_picture,sx:{width:56,height:56}}),title:t.user.username}),Object(v.jsx)(T.a,{component:"img",height:"20%",image:t.image,alt:t.description}),Object(v.jsx)(P.a,{children:Object(v.jsx)(p.a,{variant:"body2",color:"text.secondary",children:t.description})}),Object(v.jsx)(A.a,{disableSpacing:!0,children:Object(v.jsxs)(U.a,{"aria-label":"add like",onClick:function(e){console.log(t.id),d((function(e){return!e}));var n={method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(j?{like:i-1}:{like:i+1})};fetch("/meow_posts/".concat(t.id),n).then((function(e){return e.json()})).then((function(e){s(e.like)}))},name:"like",id:"like",value:t.like,sx:{height:"3vh"},children:[Object(v.jsx)(E.a,Object(S.a)(Object(S.a)({},{inputProps:{"aria-label":"Checkbox demo"}}),{},{icon:Object(v.jsx)(R.a,{sx:{height:"3vh"}}),checkedIcon:Object(v.jsx)(B.a,{sx:{color:"red"}})}))," ",i]})})]},t.id)})}function F(e){var t,n=e.currentUser,a=Object(r.useState)([]),i=Object(c.a)(a,2),s=i[0],l=i[1],j=Object(r.useState)([]),d=Object(c.a)(j,2),b=(d[0],d[1]);return Object(r.useEffect)((function(){fetch("/meow_posts").then((function(e){e.ok?e.json().then((function(e){l(e)})):e.json().then((function(e){return b(Object.entries(e.errors))}))}))}),[]),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(h.a,{bgcolor:"white",flex:4,p:5,children:Object(v.jsx)(C.a,{alignItems:"center",children:n.friends.length>0?null===(t=function(){var e,t,r,a=(t=n.friends,r="id",t.map((function(e){return e[r]})));e=[].concat(Object(k.a)(a),[n.id]);for(var i=[],c=function(t){var n=s.filter((function(n){return n.user.id===e[t]}));i.push(n)},o=0;o<e.length;o++)c(o);return i.flat()}().sort((function(e,t){return t.id-e.id})))||void 0===t?void 0:t.map((function(e){return Object(v.jsx)(N,{post:e,currentUser:n},e.id)})):Object(v.jsx)(h.a,{container:!0,style:{display:"inline-block"},children:Object(v.jsx)(w.a,{component:o.b,to:"/mycatpanions",children:"Add some catpanions to view meowposts!"})})})})})}var D=n(4),q=n(212),J=n(202),W=n(105),M=n.n(W),z=n(214),H=n(215),V=n(64),G=n.n(V),Y=n(65),K=n.n(Y),Q={username:"",password:""};function X(e){var t=e.setCurrentUser,n=Object(r.useState)(Q),a=Object(c.a)(n,2),i=a[0],l=a[1],j=Object(r.useState)(!1),d=Object(c.a)(j,2),b=d[0],u=d[1],h=Object(s.f)(),m=function(e){var t=e.target,n=t.name,r=t.value;l(Object(S.a)(Object(S.a)({},i),{},Object(D.a)({},n,r)))};return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(q.a,{style:{display:"inline-block",backgroundImage:"url(https://i.imgur.com/m8NVI9B.png)",backgroundSize:"cover",backgroundAttachment:"fixed",width:"100%",height:"100%",position:"absolute",backgroundRepeat:"no-repeat"},children:Object(v.jsx)(q.a,{style:{display:"inline-block",width:"100%",height:"100%"},children:Object(v.jsx)(q.a,{style:{width:"350px",height:"350px",margin:"auto",marginTop:"13%"},children:Object(v.jsx)("form",{onSubmit:function(e){e.preventDefault();var n={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Object(S.a)({},i))};fetch("/login",n).then((function(e){if(e.ok)return e.json();throw new Error("Incorrect Username or Pawssword. Try Again!")})).then((function(e){t(e),h("/newsfeed")})).catch((function(e){alert(e)})),l(Q)},children:Object(v.jsxs)(q.a,{container:!0,alignItems:"center",direction:"column",children:[Object(v.jsx)("h2",{style:{marginTop:"5%"},children:"Log in to Whiskker!"}),Object(v.jsx)(q.a,{item:!0,margin:"auto",marginTop:"5%",marginBottom:"2.5%",children:Object(v.jsx)(J.a,{InputLabelProps:{shrink:!0},InputProps:{startAdornment:Object(v.jsx)(z.a,{position:"start",children:Object(v.jsx)(M.a,{})})},id:"username",name:"username",label:"Username",type:"text",value:i.username,onChange:m,required:!0})}),Object(v.jsx)(q.a,{item:!0,margin:"auto",marginBottom:"2.5%",children:Object(v.jsx)(J.a,{InputLabelProps:{shrink:!0},InputProps:{startAdornment:Object(v.jsx)(z.a,{position:"end",children:Object(v.jsx)(H.a,{"aria-label":"toggle password visibility",onClick:function(){u((function(e){return!e}))},edge:"start",children:b?Object(v.jsx)(G.a,{}):Object(v.jsx)(K.a,{})})})},id:"password-input",name:"password",label:"Password",type:b?"text":"password",value:i.password||"",onChange:m,required:!0})}),Object(v.jsx)(q.a,{item:!0,margin:"auto",marginBottom:"2%",children:Object(v.jsx)(U.a,{type:"submit",variant:"contained",sx:{backgroundColor:"#33691e"},children:"Sign In"})}),Object(v.jsx)("h5",{children:"New to Whiskker?"}),Object(v.jsx)(q.a,{item:!0,margin:"auto",marginTop:"1%",children:Object(v.jsx)(U.a,{variant:"contained",type:"submit",sx:{backgroundColor:"#33691e"},component:o.b,to:"/signup",children:"Sign Up Instead"})})]})})})})})})}function Z(){var e=Object(b.a)(u.a)({display:"flex",justifyContent:"space-between"});return Object(v.jsx)(m.a,{position:"fixed",sx:{backgroundColor:"#33691e"},children:Object(v.jsx)(e,{children:Object(v.jsxs)(p.a,{variant:"h5",sx:{display:{xs:"none",sm:"block"},ml:1},children:[Object(v.jsx)(l.a,{})," Whiskker"]})})})}var $=n(106),ee=n.n($);var te=function(e){var t=e.search,n=e.setSearch;return Object(v.jsx)(q.a,{item:!0,margin:"auto",marginTop:"2%",marginBottom:"2%",marginLeft:"5%",children:Object(v.jsx)("form",{style:{width:"auto"},children:Object(v.jsxs)(q.a,{item:!0,alignItems:"center",children:[Object(v.jsx)(J.a,{id:"search-bar",value:t,onChange:function(e){n(e.target.value)},className:"text",label:"Search by full name",variant:"outlined",placeholder:"Search by full name",size:"small"}),Object(v.jsx)(H.a,{type:"submit","aria-label":"search",children:Object(v.jsx)(ee.a,{style:{fill:"blue"}})})]})})})},ne=n(219);var re=function(e){var t=e.Item,n=e.friend,a=e.catpanions,i=e.currentUser,s=Object(r.useState)(!1),l=Object(c.a)(s,2),j=l[0],d=l[1];return Object(v.jsx)(t,{children:Object(v.jsxs)(q.a,{container:!0,children:[Object(v.jsx)(q.a,{item:!0,children:Object(v.jsx)(O.a,{alt:"Remy Sharp",src:n.purrfile_picture,sx:{width:"95px",height:"95px"}})}),Object(v.jsxs)(q.a,{item:!0,sx:{flexGrow:1},children:[Object(v.jsx)("h2",{children:n.full_name}),Object(v.jsxs)("h4",{children:["@",n.username]})]}),Object(v.jsxs)(q.a,{item:!0,marginLeft:"2%",children:[Object(v.jsx)(U.a,{variant:"contained",disabled:j,sx:{borderRadius:28,mr:2,backgroundColor:"#33691e"},component:o.b,to:"/messaging",children:"Message"}),Object(v.jsx)(U.a,{variant:"contained",disabled:j,sx:{borderRadius:28,backgroundColor:"#33691e"},onClick:function(){var e=null===a||void 0===a?void 0:a.find((function(e){return e.user_id===i.id&&e.friend_id===n.id?e.id:void 0}));fetch("/catpanions/".concat(e.id),{method:"DELETE"}),d((function(e){return!e}))},children:j?"Friend Removed":"Unfriend"})]})]})})};var ae=function(e){var t,n=e.user,a=e.catpanions,i=e.currentUser,s=e.Item,l=Object(r.useState)(!1),j=Object(c.a)(l,2),d=j[0],b=j[1],u=Object(r.useState)(!1),h=Object(c.a)(u,2),m=h[0],p=h[1],x=[];return null===(t=i.friends)||void 0===t||t.map((function(e){return x.push(e.id)})),Object(v.jsx)(s,{children:Object(v.jsxs)(q.a,{container:!0,children:[Object(v.jsx)(q.a,{item:!0,children:Object(v.jsx)(O.a,{alt:"Remy Sharp",src:n.purrfile_picture,sx:{width:"95px",height:"95px"}})}),Object(v.jsxs)(q.a,{item:!0,sx:{flexGrow:1},children:[Object(v.jsx)("h2",{children:n.full_name}),Object(v.jsxs)("h4",{children:["@",n.username]})]}),Object(v.jsx)(q.a,{item:!0,marginLeft:"2%",children:x.includes(n.id)?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(U.a,{variant:"contained",disabled:d,sx:{borderRadius:28,mr:2,backgroundColor:"#33691e"},component:o.b,to:"/messaging",children:"Message"}),Object(v.jsx)(U.a,{variant:"contained",disabled:d,sx:{borderRadius:28,backgroundColor:"#33691e"},onClick:function(){var e=null===a||void 0===a?void 0:a.find((function(e){return e.user_id===i.id&&e.friend_id===n.id?e.id:void 0}));fetch("/catpanions/".concat(e.id),{method:"DELETE"}),b((function(e){return!e}))},children:"Remove Friend"})]}):Object(v.jsxs)(v.Fragment,{children:[m?Object(v.jsx)(U.a,{variant:"contained",sx:{borderRadius:28,mr:2},component:o.b,to:"/messaging",children:"Message"}):null,Object(v.jsx)(U.a,{variant:"contained",disabled:m,sx:{borderRadius:28},onClick:function(){fetch("/catpanions",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user_id:i.id,friend_id:n.id})}),p((function(e){return!e}))},children:m?"Added <3":"Add friend"})]})})]})},n.id)};var ie=function(e){var t,n=e.currentUser,a=e.search,i=e.users,s=Object(r.useState)([]),o=Object(c.a)(s,2),l=o[0],j=o[1];Object(r.useEffect)((function(){fetch("/catpanions").then((function(e){return e.json()})).then(j)}),[]);var d=Object(b.a)(ne.a)((function(e){var t=e.theme;return Object(S.a)(Object(S.a)({},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})}));return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(C.a,{direction:"column",alignItems:"stretch",justifyContent:"center",spacing:2,width:"75%",marginLeft:"5%",children:""===a?null===(t=n.friends)||void 0===t?void 0:t.map((function(e){return Object(v.jsx)(re,{friend:e,Item:d,catpanions:l,currentUser:n},e.id)})):function(){var e,t=[],r=i.filter((function(e){return e.full_name.toLowerCase().includes(a.toLowerCase())}));return console.log(t),null===(e=t=r)||void 0===e?void 0:e.map((function(e){return Object(v.jsx)(ae,{user:e,catpanions:l,currentUser:n,Item:d},e.id)}))}()})})};var ce=function(e){var t=e.currentUser,n=Object(r.useState)(""),a=Object(c.a)(n,2),i=a[0],s=a[1],o=Object(r.useState)([]),l=Object(c.a)(o,2),j=l[0],d=l[1];return Object(r.useEffect)((function(){fetch("/users").then((function(e){return e.json()})).then(d)}),[]),Object(v.jsxs)(q.a,{container:!0,style:{display:"inline-block",width:"80%",margin:"auto",justifyContent:"space-evenly"},children:[Object(v.jsx)(te,{setSearch:s,search:i}),Object(v.jsx)(ie,{currentUser:t,search:i,users:j})]})},se=n(203),oe=n(108),le=n.n(oe),je=n(107),de=n.n(je),be=n(37),ue={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function he(e){var t=e.currentUser,n=e.post,a=e.deletePost,i=e.updatePost,s=Object(r.useState)(!1),o=Object(c.a)(s,2),l=o[0],j=o[1],d=function(){return j(!1)},b=Object(r.useState)({description:n.description,image:n.image,like:n.like,user_id:t.id}),u=Object(c.a)(b,2),m=u[0],x=u[1],O=Object(r.useState)(!1),g=Object(c.a)(O,2),f=g[0],y=g[1],k=n.description,w=n.image,I=n.created_at;var E=function(e){var t=e.target,n=t.name,r=t.value;x(Object(S.a)(Object(S.a)({},m),{},Object(D.a)({},n,r)))},B=function(e){e.preventDefault();var t={method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Object(S.a)({},m))};fetch("/meow_posts/".concat(n.id),t).then((function(e){return e.json()})).then((function(e){x(e),i(e),y(!1)}))};return Object(v.jsx)(h.a,{bgcolor:"white",flex:4,p:5,children:Object(v.jsxs)(_.a,{sx:{maxWidth:700,margin:4},children:[Object(v.jsx)(T.a,{component:"img",height:"20%",image:w,alt:k}),Object(v.jsxs)(P.a,{children:[Object(v.jsx)(p.a,{variant:"body2",color:"text.secondary",children:k}),Object(v.jsx)(p.a,{variant:"body2",color:"text.secondary",children:I})]}),Object(v.jsxs)(A.a,{disableSpacing:!0,children:[Object(v.jsx)(H.a,{"aria-label":"edit",children:Object(v.jsx)(de.a,{onClick:function(){return y(!0)}})}),Object(v.jsx)(se.a,{open:f,onClose:function(){return y(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(v.jsxs)(h.a,{sx:ue,textAlign:"center",borderRadius:2,p:8,children:[Object(v.jsx)(p.a,{variant:"h5",color:"black",textAlign:"center",children:"Edit Post"}),Object(v.jsxs)("form",{onSubmit:B,children:[Object(v.jsx)(J.a,{sx:{width:"100%"},name:"description",id:"description",multiline:!0,rows:3,placeholder:"Add edited description here",variant:"standard",value:m.description,onChange:E}),Object(v.jsx)(C.a,{direction:"row",mt:2,mb:3,gap:1,children:Object(v.jsx)(H.a,{color:"success","aria-label":"upload picture",component:"label",children:Object(v.jsx)(J.a,{InputLabelProps:{shrink:!0},InputProps:{startAdornment:Object(v.jsx)(z.a,{position:"start",children:Object(v.jsx)(be.a,{})})},id:"image",name:"image",label:"Edit Image URL",type:"text",value:m.image,onChange:E})})}),Object(v.jsx)(C.a,{children:Object(v.jsx)(U.a,{color:"success",display:"center",onClick:B,children:"EDIT"})})]})]})}),Object(v.jsx)(H.a,{onClick:function(){return j(!0)},"aria-label":"delete",children:Object(v.jsxs)(U.a,{children:[" ",Object(v.jsx)(le.a,{})]})}),Object(v.jsx)(se.a,{open:l,onClose:d,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(v.jsxs)(h.a,{sx:ue,textAlign:"center",borderRadius:2,p:8,children:[Object(v.jsx)(p.a,{id:"modal-modal-title",variant:"h7",component:"h2",children:"Are you sure you want to delete?"}),Object(v.jsx)(U.a,{sx:{margin:2},variant:"outlined",onClick:function(){fetch("/meow_posts/".concat(n.id),{method:"DELETE"}),a(n.id)},children:"Yes"}),Object(v.jsx)(U.a,{sx:{margin:2},variant:"outlined",onClick:d,children:"No"})]})})]})]})})}var me=n(201),pe=n(227),xe=n(197),Oe=Object(b.a)(se.a)({display:"flex",alignItems:"center",justifyContent:"center"}),ge=Object(b.a)(h.a)({display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px"}),fe={user_id:void 0,description:"",image:"",like:0};function ve(e){var t=e.currentUser,n=e.addPost,a=Object(r.useState)(!1),i=Object(c.a)(a,2),s=i[0],o=i[1],l=Object(r.useState)(fe),j=Object(c.a)(l,2),d=j[0],b=j[1],u=t.purrfile_picture,m=t.full_name,x=function(e){var t=e.target,n=t.name,r=t.value;b(Object(S.a)(Object(S.a)({},d),{},Object(D.a)({},n,r)))},g=function(e){e.preventDefault();var r={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Object(S.a)(Object(S.a)({},d),{},{user_id:t.id}))};fetch("/meow_posts",r).then((function(e){return e.json()})).then((function(e){return n(e)})),b(fe),o(!1)};return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("form",{onSubmit:g,children:[Object(v.jsx)(me.a,{onClick:function(e){return o(!0)},title:"Create Post",sx:{position:"fixed",bottom:20,left:{xs:"calc(50% - 25px)",md:30}},children:Object(v.jsx)(pe.a,{color:"green","aria-label":"add",children:Object(v.jsx)(xe.a,{})})}),Object(v.jsx)(U.a,{}),Object(v.jsx)(Oe,{open:s,onClose:function(e){return o(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(v.jsxs)(h.a,{width:500,height:280,bgcolor:"white",borderRadius:3,p:8,children:[Object(v.jsx)(p.a,{variant:"h5",color:"black",textAlign:"center",children:"Create A New Post"}),Object(v.jsxs)(ge,{children:[Object(v.jsx)(O.a,{alt:m,src:u,sx:{width:60,height:60}}),Object(v.jsx)(p.a,{fontWeight:900,variant:"span",children:m})]}),Object(v.jsx)(C.a,{direction:"row",mt:2,mb:3,gap:1,children:Object(v.jsx)(J.a,{InputLabelProps:{shrink:!0},InputProps:{startAdornment:Object(v.jsx)(z.a,{position:"start",children:Object(v.jsx)(be.a,{})})},id:"image",name:"image",label:"Add A Photo",type:"text",value:d.image,onChange:x,required:!0})}),Object(v.jsx)(J.a,{sx:{width:"100%"},name:"description",id:"description",multiline:!0,rows:3,placeholder:"Add a description",variant:"standard",value:d.description,onChange:x,required:!0}),Object(v.jsx)(C.a,{children:Object(v.jsx)(U.a,{onClick:g,color:"success",display:"center",children:"POST"})})]})})]})})}var ye=n(213);function ke(e){var t=e.currentUser,n=Object(r.useState)([]),a=Object(c.a)(n,2),i=a[0],s=a[1];Object(r.useEffect)((function(){t&&s(t.meow_posts)}),[t]);var o=t.username,l=t.purrfile_picture,j=t.bio,d=t.full_name,b=function(e){return s((function(t){return t.filter((function(t){return t.id!==e}))}))},u=function(e){return s((function(t){return t.map((function(t){return t.id===e.id?e:t}))}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("main",{children:[Object(v.jsx)("div",{children:Object(v.jsxs)(ye.a,{maxwidth:"sm",style:{marginTop:"100px"},display:"center",alignItems:"center",justifyContent:"center",children:[Object(v.jsx)(O.a,{src:l,sx:{width:150,height:150},align:"center"}),Object(v.jsxs)(p.a,{variant:"h5",style:{marginTop:"15px"},color:"text.secondary",gutterBottom:!0,children:["Username: ",o]}),Object(v.jsxs)(p.a,{variant:"h6",style:{marginTop:"10px"},color:"text.secondary",children:["Full Name: ",d]}),Object(v.jsxs)(p.a,{variant:"h6",style:{marginTop:"10px"},color:"text.secondary",paragraph:!0,children:["Bio: ",j]})]})}),Object(v.jsx)(ye.a,{style:{marginTop:"5%"},children:Object(v.jsx)(q.a,{container:!0,spacing:1,children:null===i||void 0===i?void 0:i.map((function(e){return Object(v.jsx)(he,{post:e,deletePost:b,currentUser:t,updatePost:u},e.id)}))})})]}),Object(v.jsx)(ve,{currentUser:t,addPost:function(e){return s((function(t){return[].concat(Object(k.a)(t),[e])}))}})]})}var Ce=n(55),we={full_name:"",purrfile_picture:"",username:"",password:""};function Se(e){var t=e.setCurrentUser,n=Object(r.useState)(we),a=Object(c.a)(n,2),i=a[0],l=a[1],j=Object(r.useState)([]),d=Object(c.a)(j,2),b=(d[0],d[1]),u=Object(r.useState)(!1),h=Object(c.a)(u,2),m=h[0],p=h[1],x=Object(s.f)(),O=i.username,g=i.password,f=i.full_name;var y=function(e){var t=e.target,n=t.name,r=t.value;l(Object(S.a)(Object(S.a)({},i),{},Object(D.a)({},n,r)))};return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(q.a,{style:{display:"inline-block",backgroundImage:"url(https://i.imgur.com/m8NVI9B.png)",backgroundSize:"cover",backgroundAttachment:"fixed-right",width:"100%",height:"100%",position:"absolute",backgroundRepeat:"no-repeat"},children:Object(v.jsx)(q.a,{style:{display:"inline-block",width:"100%",height:"100%"},children:Object(v.jsx)(q.a,{style:{width:"300px",height:"300px",margin:"auto",marginTop:"13%"},children:Object(v.jsx)("form",{onSubmit:function(e){e.preventDefault();var n={full_name:f,username:O,password:g};fetch("/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){e.ok?e.json().then((function(e){t(e),x("/newsfeed")})):e.json().then((function(e){return b(Object.entries(e.errors))}))})),l(we)},children:Object(v.jsxs)(q.a,{container:!0,alignItems:"center",direction:"column",children:[Object(v.jsx)("h2",{style:{marginTop:"2.5%",marginBottom:"2.5%"},children:"Sign up for Whiskker!"}),Object(v.jsx)(q.a,{item:!0,marginTop:"5%",marginBottom:"2%",children:Object(v.jsx)(J.a,{InputLabelProps:{shrink:!0},InputProps:{startAdornment:Object(v.jsx)(z.a,{position:"start",children:Object(v.jsx)(be.a,{})})},id:"full_name",name:"full_name",label:"Full Name",type:"text",value:i.full_name||"",onChange:y,required:!0})}),Object(v.jsx)(q.a,{item:!0,style:{marginTop:"2.5%",marginBottom:"2.5%"},children:Object(v.jsx)(J.a,{InputLabelProps:{shrink:!0},InputProps:{startAdornment:Object(v.jsx)(z.a,{position:"start",children:Object(v.jsx)(Ce.a,{})})},id:"username",name:"username",label:"Username",type:"text",value:i.username||"",onChange:y,required:!0})}),Object(v.jsx)(q.a,{item:!0,style:{marginTop:"2.5%",marginBottom:"2.5%"},children:Object(v.jsx)(J.a,{InputLabelProps:{shrink:!0},InputProps:{startAdornment:Object(v.jsx)(z.a,{position:"end",children:Object(v.jsx)(H.a,{"aria-label":"toggle password visibility",onClick:function(){p((function(e){return!e}))},edge:"start",children:m?Object(v.jsx)(G.a,{}):Object(v.jsx)(K.a,{})})})},id:"password",name:"password",label:"Password",type:m?"text":"password",value:i.password||"",onChange:y,required:!0})}),Object(v.jsx)(q.a,{item:!0,style:{marginTop:"2.5%",marginBottom:"2.5%"},children:Object(v.jsx)(U.a,{type:"submit",variant:"contained",sx:{backgroundColor:"#33691e"},children:"CREATE FREE ACCOUNT"})}),Object(v.jsxs)(q.a,{item:!0,marginBottom:"5%",children:[Object(v.jsx)("h5",{children:"Already have an account?"}),Object(v.jsx)(U.a,{type:"submit",variant:"contained",sx:{backgroundColor:"#33691e"},component:o.b,to:"/",children:"Login Instead"})]})]})})})})})})}var _e=n(220),Ie=n(207),Te=n(198),Pe=n(199),Ae=n(200);function Ue(e){var t=e.currentUser,n=Object(r.useState)(""),a=Object(c.a)(n,2),i=a[0],s=a[1];console.log(t);var o=t.full_name,l=t.purrfile_picture,j=t.friends,d=(t.sent_messages,t.received_messages,function(e){console.log("clicked")});return Object(v.jsxs)("div",{children:[Object(v.jsx)(q.a,{container:!0,marginTop:10,marginBottom:5,align:"center",children:Object(v.jsx)(q.a,{item:!0,xs:12,children:Object(v.jsx)(p.a,{variant:"h5",className:"header-message",children:" MeowMessages"})})}),Object(v.jsxs)(q.a,{container:!0,component:ne.a,sx:{width:"100%",height:"80vh"},children:[Object(v.jsxs)(q.a,{item:!0,xs:3,sx:{borderRight:"1px solid #e0e0e0"},children:[Object(v.jsx)(_e.a,{children:Object(v.jsxs)(Ie.a,{button:!0,children:[Object(v.jsx)(Te.a,{children:Object(v.jsx)(O.a,{alt:o,src:l})}),Object(v.jsx)(Pe.a,{primary:o})]},o)}),Object(v.jsx)(Ae.a,{}),Object(v.jsx)(Ae.a,{}),Object(v.jsx)(_e.a,{children:j.map((function(e){return Object(v.jsx)(U.a,{onClick:d,children:Object(v.jsxs)(Ie.a,{children:[Object(v.jsx)(Te.a,{children:Object(v.jsx)(O.a,{alt:e.full_name,src:e.purrfile_picture})}),Object(v.jsx)(Pe.a,{primary:e.full_name})]},e.id)})}))})]}),Object(v.jsxs)(q.a,{item:!0,xs:9,children:[Object(v.jsxs)(_e.a,{xs:{height:"70vh",overflowY:"auto"},children:[Object(v.jsx)(Ie.a,{children:Object(v.jsxs)(q.a,{item:!0,xs:12,children:[Object(v.jsx)(O.a,{alt:"Connie",src:"https://images.theconversation.com/files/443350/original/file-20220131-15-1ndq1m6.jpg?ixlib=rb-1.1.0&rect=0%2C0%2C3354%2C2464&q=45&auto=format&w=926&fit=clip"}),Object(v.jsx)(q.a,{container:!0,children:Object(v.jsx)(Pe.a,{align:"right",primary:"Hello! how are you?"})}),Object(v.jsx)(q.a,{item:!0,xs:12,children:Object(v.jsx)(Pe.a,{align:"right",secondary:"insert time"})})]})},"1"),Object(v.jsx)(Ie.a,{children:Object(v.jsxs)(q.a,{container:!0,children:[Object(v.jsx)(q.a,{item:!0,xs:12,children:Object(v.jsx)(Pe.a,{align:"left",primary:"I'm doing awesome!"})}),Object(v.jsx)(q.a,{item:!0,xs:12,children:Object(v.jsx)(Pe.a,{align:"left",secondary:"insert time"})})]})},"2"),Object(v.jsx)(Ie.a,{children:Object(v.jsxs)(q.a,{container:!0,children:[Object(v.jsx)(q.a,{item:!0,xs:12,children:Object(v.jsx)(Pe.a,{align:"right",primary:"That's cool."})}),Object(v.jsx)(q.a,{item:!0,xs:12,children:Object(v.jsx)(Pe.a,{align:"right",secondary:"insert time"})})]})},"3")]}),Object(v.jsx)(Ae.a,{}),Object(v.jsxs)(q.a,{container:!0,style:{padding:"20px"},children:[Object(v.jsx)(q.a,{item:!0,xs:11,children:Object(v.jsx)(J.a,{id:"oulined-basic-email",label:"Type Something",fullWidth:!0,value:i,onChange:function(e){s(e.target.value)}})}),Object(v.jsx)(q.a,{xs:1,align:"right",children:Object(v.jsx)(pe.a,{color:"success","aria-label":"add",children:"Send"})})]})]})]})]})}var Ee=function(e){var t=e.currentUser,n=e.setCurrentUser,a=Object(r.useState)({bio:t.bio,friends:[t.friends],full_name:t.full_name,meow_posts:[t.meow_posts],purrfile_picture:t.purrfile_picture,username:t.username}),i=Object(c.a)(a,2),o=i[0],l=i[1],j=Object(s.f)(),d=function(e){var t=e.target,n=t.name,r=t.value;l(Object(S.a)(Object(S.a)({},o),{},Object(D.a)({},n,r)))},b=function(e){e.preventDefault();var r={method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Object(S.a)({},o))};fetch("/users/".concat(t.id),r).then((function(e){return e.json()})).then((function(e){n(e),j("/me")})),l(o)};return Object(v.jsx)("div",{children:Object(v.jsx)(q.a,{style:{display:"inline-block",backgroundImage:"url(https://i.imgur.com/m8NVI9B.png)",backgroundSize:"cover",backgroundAttachment:"fixed-right",width:"100%",height:"100%",position:"absolute",backgroundRepeat:"no-repeat"},children:Object(v.jsx)(q.a,{style:{display:"inline-block",width:"100%",height:"100%"},children:Object(v.jsx)(q.a,{style:{width:"300px",height:"300px",margin:"auto",marginTop:"13%"},children:Object(v.jsx)("form",{onSubmit:b,children:Object(v.jsxs)(q.a,{container:!0,alignItems:"center",justify:"center",direction:"column",margin:"auto",children:[Object(v.jsx)("h3",{style:{marginTop:"2.5%",marginBottom:"2.5%"},children:"Edit My Whiskkers Account"}),Object(v.jsx)(q.a,{item:!0,margin:"auto",marginTop:"5%",marginBottom:"2%",children:Object(v.jsx)(J.a,{InputLabelProps:{shrink:!0},InputProps:{startAdornment:Object(v.jsx)(z.a,{position:"start",children:Object(v.jsx)(be.a,{})})},id:"full_name",name:"full_name",label:"Full Name",type:"text",value:o.full_name,onChange:d})}),Object(v.jsx)(q.a,{item:!0,margin:"auto",style:{marginTop:"2.5%",marginBottom:"2.5%"},children:Object(v.jsx)(J.a,{InputLabelProps:{shrink:!0},InputProps:{startAdornment:Object(v.jsx)(z.a,{position:"start",children:Object(v.jsx)(Ce.a,{})})},id:"username",name:"username",label:"Username",type:"text",value:o.username,onChange:d})}),Object(v.jsx)(q.a,{item:!0,margin:"auto",marginBottom:"2%",children:Object(v.jsx)(J.a,{InputLabelProps:{shrink:!0},InputProps:{startAdornment:Object(v.jsx)(z.a,{position:"start",children:Object(v.jsx)(be.a,{})})},id:"purrfile_picture",name:"purrfile_picture",label:"Purrfile Picture",type:"text",value:o.purrfile_picture,onChange:d})}),Object(v.jsx)(q.a,{item:!0,margin:"auto",style:{marginTop:"2.5%",marginBottom:"2.5%"},children:Object(v.jsx)(J.a,{InputLabelProps:{shrink:!0},InputProps:{startAdornment:Object(v.jsx)(z.a,{position:"start",children:Object(v.jsx)(Ce.a,{})})},id:"bio",name:"bio",label:"Bio",type:"text",value:o.bio,onChange:d})}),Object(v.jsx)(q.a,{item:!0,margin:"auto",style:{marginTop:"2.5%",marginBottom:"2.5%"},children:Object(v.jsx)(U.a,{type:"submit",variant:"contained",sx:{backgroundColor:"#33691e"},onSubmit:b,children:"EDIT"})})]})})})})})})};var Be=function(){var e=Object(r.useState)(!1),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){fetch("/me").then((function(e){return e.json()})).then((function(e){a(e)}))}),[]),Object(v.jsxs)("div",{className:"App",children:[n?Object(v.jsx)(y,{setCurrentUser:a,currentUser:n}):Object(v.jsx)(Z,{}),Object(v.jsxs)(s.c,{children:[Object(v.jsx)(s.a,{path:n?"/newsfeed":"/",element:n?Object(v.jsx)(F,{currentUser:n}):Object(v.jsx)(X,{setCurrentUser:a})}),Object(v.jsx)(s.a,{path:"signup",element:Object(v.jsx)(Se,{setCurrentUser:a})}),Object(v.jsx)(s.a,{path:"mycatpanions",element:Object(v.jsx)(ce,{currentUser:n})}),Object(v.jsx)(s.a,{path:"me",element:Object(v.jsx)(ke,{currentUser:n})}),Object(v.jsx)(s.a,{path:"messaging",element:Object(v.jsx)(Ue,{currentUser:n})}),Object(v.jsx)(s.a,{path:"myaccount",element:Object(v.jsx)(Ee,{currentUser:n,setCurrentUser:a})})]})]})};i.a.createRoot(document.getElementById("root")).render(Object(v.jsx)(o.a,{children:Object(v.jsx)(Be,{})}))}},[[136,1,2]]]);
//# sourceMappingURL=main.f77d653a.chunk.js.map